{"version":3,"sources":["webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?c657","webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?d344","webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?94d6","webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?9296","uni-app:///pages/Dynamic/commponents/dynamicBox.vue","webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?551a","webpack:///E:/code/myCampus/pages/Dynamic/commponents/dynamicBox.vue?8b27"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmI;AACnI;AAC8D;AACL;AACsC;;;AAG/F;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,iGAAM;AACR,EAAE,0GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,qGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,6VAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAsnB,CAAgB,onBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyC1oB;AACA;AACA,uG;;AAEA;AACA,iBADA;AAEA;AACA,oBADA;AAEA,oBAFA,EAFA;;AAMA;AACA;AACA,kBADA;AAEA,wBAFA,EADA,EANA;;;AAYA,MAZA,kBAYA;AACA;AACA;AACA,iBADA;AAEA,kBAFA,EADA;;AAKA;AACA,iBADA;AAEA,mBAFA;AAGA,sBAHA;AAIA,0CAJA;AAKA,UALA;AAMA,OANA,aALA;;AAaA,oBAbA;;AAeA,kBAfA;AAgBA,aAhBA;AAiBA,wBAjBA;AAkBA,mBAlBA;;AAoBA,oDApBA;AAqBA,4FArBA;;AAuBA,GApCA;AAqCA,SArCA,qBAqCA;AACA;AACA,GAvCA;AAwCA;AACA,gBADA,wBACA,CADA,EACA;AACA;AACA,KAHA;AAIA;AACA,kBALA,4BAKA;AACA,wEADA,iHACA,GADA,6BACA,GADA;AAEA,kCAFA;AAGA,gDAHA,6DAGA,KAHA;AAIA,oBAJA,GAIA,aAJA;AAKA;AACA,uEANA;AAOA,yBAPA;AAQA,KAbA;AAcA;AACA,WAfA,qBAeA;AACA,gCADA;AAEA,yCAFA,SAEA,IAFA;AAGA,mBAHA,GAGA,EAHA;AAIA;AACA;AACA;AACA;AACA;AACA,qBAFA;AAGA;AACA;AACA,iBARA;AASA,sCAbA;;AAeA,KA9BA;AA+BA;AACA,YAhCA,sBAgCA;AACA,iCADA;AAEA,yCAFA,SAEA,IAFA;AAGA;AACA;AACA;AACA;AACA;AACA,qBAFA;AAGA;AACA;AACA,iBARA,EAHA;AAYA,KA5CA;AA6CA,cA7CA,wBA6CA;AACA;AACA;AACA,KAhDA;AAiDA;AACA,eAlDA,uBAkDA,EAlDA,EAkDA;AACA,+CADA,kHACA,GADA,6BACA,GADA;AAEA,iDAFA,+DAEA,KAFA;AAGA,6CAHA;AAIA,KAtDA;AAuDA,cAvDA,sBAuDA,EAvDA,EAuDA,KAvDA,EAuDA;AACA,8CADA,gEACA,KADA;AAEA,uBAFA,GAEA,4DAFA;AAGA,iDAHA,mGAGA,GAHA,wBAGA,GAHA;AAIA,2BAJA;AAKA;AACA,iDANA;AAOA,gCAPA;AAQA,gCARA;;;AAWA,yBAXA,oDASA,4BATA;AAYA,8CAZA;;;;AAgBA,KAvEA,EAxCA,E;;;;;;;;;;;;;AC7CA;AAAA;AAAA;AAAA;AAAqqC,CAAgB,4lCAAG,EAAC,C;;;;;;;;;;;ACAzrC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/Dynamic/commponents/dynamicBox.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./dynamicBox.vue?vue&type=template&id=3cc055ce&scoped=true&\"\nvar renderjs\nimport script from \"./dynamicBox.vue?vue&type=script&lang=js&\"\nexport * from \"./dynamicBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./dynamicBox.vue?vue&type=style&index=0&id=3cc055ce&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cc055ce\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/Dynamic/commponents/dynamicBox.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dynamicBox.vue?vue&type=template&id=3cc055ce&scoped=true&\"","var components\ntry {\n  components = {\n    mescrollUni: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni\" */ \"@/uni_modules/mescroll-uni/components/mescroll-uni/mescroll-uni.vue\"\n      )\n    },\n    mescrollEmpty: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/mescroll-uni/components/mescroll-empty/mescroll-empty\" */ \"@/uni_modules/mescroll-uni/components/mescroll-empty/mescroll-empty.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dynamicBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dynamicBox.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<mescroll-uni  @init=\"mescrollInit\" @up=\"loadMore\" @down=\"refresh\" :down=\"downOption\" :up=\"upOption\" height=\"100%\" BGC=\"#F1F6F9\">\r\n\t\t\t<mescroll-empty v-if=\"postList.length==0\"></mescroll-empty>\r\n\t\t\t<view class=\"dynamic\" @click=\"deletePost(item.id,index)\"  v-else  v-for=\"(item, index) in postList\" :key=\"index\">\r\n\t\t\t\t<view class=\"header\">\r\n\t\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t\t<image\r\n\t\t\t\t\t\tclass=\"img\"\r\n\t\t\t\t\t\tsrc=\"https://thirdwx.qlogo.cn/mmopen/vi_32/Q0j4TwGTfTLICxO04k0gib971cQEkyEqZO3xChscnWOP3tQlGRBnBqxuPYtOWVo5KhLQ3XLKJQjGYgeaBkCXQYQ/132\"\r\n\t\t\t\t\t\tmode=\"\"\r\n\t\t\t\t\t></image>\r\n\t\t\t\t\t<!-- 名字 -->\r\n\t\t\t\t\t<text class=\"name\">{{ item.postUser.nick_name || item.postUser.name }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<rich-text class=\"richText\" :nodes=\"item.content\"></rich-text>\r\n\t\t\t\t\t<img-grid class=\"grid\" :imgList=\"item.imgList\"></img-grid>\r\n\t\t\t\t\t<!-- imgGrid -->\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bottom\">\r\n\t\t\t\t\t<!-- 评论 -->\r\n\t\t\t\t\t<view class=\"comment\" @click.stop=\"tapComment(index)\">\r\n\t\t\t\t\t\t<!-- img -->\r\n\t\t\t\t\t\t<image style=\"margin-top: -2px;\" class=\"svg\" :src=\"commentUrl\" mode=\"\"></image>\r\n\t\t\t\t\t\t{{ item.post_num>0?item.post_num:'' }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 收藏 -->\r\n\t\t\t\t\t<image @click.stop=\"collectPost(item.id)\" v-if=\"routeType==='dynamic'\" class=\"svg\" :src=\"item.is_collect!=null?collectUrl[1]:collectUrl[0]\" mode=\"\"></image>\r\n\t\t\t\t\t<!-- 发布日期 -->\r\n\t\t\t\t\t<text class=\"time\">{{ item.time }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</mescroll-uni>\r\n\t\t\r\n\t\t<comment v-if=\"showComment\" :postInfo=\"postList[postIndex]\" :postNum=\"postList[postIndex].post_num\"></comment>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport ImgGrid from '@/components/ImgGrid/imgGird.vue';\r\nimport { toPage, showLoading,message,showModel } from '@/public/common/baseFn.js';\r\nimport postServers from '@/public/api/post.js';\r\nimport BaseConfig from '@/public/config/BaseConfig.js';\r\nimport comment from '../comment/comment.vue';\r\nexport default {\r\n\tname: 'Dynamic',\r\n\tcomponents: {\r\n\t\tImgGrid,\r\n\t\tcomment\r\n\t},\r\n\tprops:{\r\n\t\trouteType:{\r\n\t\t\ttype:String,\r\n\t\t\tdefault:\"dynamic\"\r\n\t\t}\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tdownOption: {\r\n\t\t\t\tuse: true,\r\n\t\t\t\tauto: true\r\n\t\t\t},\r\n\t\t\tupOption: {\r\n\t\t\t\tuse: true,\r\n\t\t\t\tauto: false,\r\n\t\t\t\tisBounce: true,\r\n\t\t\t\tpage: { num: this.page, size: 10 },\r\n\t\t\t\tisBounce: true,\r\n\t\t\t\tnoMoreSize:1\r\n\t\t\t},\r\n\t\t\tmescroll: null,\r\n\t\t\t\r\n\t\t\tpostList: [],\r\n\t\t\tpage: 1,\r\n\t\t\tshowComment: false,\r\n\t\t\tpostIndex:-1,\r\n\r\n\t\t\tcommentUrl: '/static/img/iconfont/comment.svg',\r\n\t\t\tcollectUrl: ['/static/img/iconfont/collect.svg', '/static/img/iconfont/iscollect.svg']\r\n\t\t};\r\n\t},\r\n\tmounted() {\r\n\t\t// showLoading('数据加载中...');\r\n\t},\r\n\tmethods: {\r\n\t\tmescrollInit(e) {\r\n\t\t\tthis.mescroll = e;\r\n\t\t},\r\n\t\t// 数据获取\r\n\t\tasync getDynamicList() {\r\n\t\t\tlet [err, res] = await postServers.getPostList(this.page,this.routeType);\r\n\t\t\tuni.hideLoading()\r\n\t\t\tif (!this.$http.errorCheck(err, res)) return false;\r\n\t\t\tlet data = res.data.data;\r\n\t\t\tthis.mescroll.endSuccess(data.data.length);\r\n\t\t\tthis.mescroll.endBySize(data.data.length, data.total);\r\n\t\t\treturn data.data;\r\n\t\t},\r\n\t\t// 下拉刷新\r\n\t\tasync refresh() {\r\n\t\t\tthis.page = 1;\r\n\t\t\tlet data = await this.getDynamicList();\r\n\t\t\tlet arr = []\r\n\t\t\tdata.forEach(item => {\n\t\t\t\titem['imgList'] = [];\n\t\t\t\tif (item.image_list != null) {\n\t\t\t\t\titem.image_list.forEach(img => {\n\t\t\t\t\t\titem['imgList'].push(BaseConfig.staticUrl + img.url);\n\t\t\t\t\t});\n\t\t\t\t}\r\n\t\t\t\tarr.push(item)\n\t\t\t});\r\n\t\t\tthis.postList = arr;\r\n\t\t\t\r\n\t\t},\r\n\t\t// 上拉加载\r\n\t\tasync loadMore() {\r\n\t\t\tthis.page += 1;\r\n\t\t\tlet data = await this.getDynamicList();\r\n\t\t\tdata.forEach(item => {\n\t\t\t\titem['imgList'] = [];\n\t\t\t\tif (item.image_list != null) {\n\t\t\t\t\titem.image_list.forEach(img => {\n\t\t\t\t\t\titem['imgList'].push(BaseConfig.staticUrl + img.url);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.postList.push(item);\n\t\t\t});\r\n\t\t},\r\n\t\ttapComment(index = null) {\r\n\t\t\tthis.showComment = !this.showComment;\r\n\t\t\tthis.postIndex = index\r\n\t\t},\r\n\t\t// 收藏动态\r\n\t\tasync collectPost(id){\r\n\t\t\tlet [err,res] = await postServers.collectPost(id)\r\n\t\t\tif(!this.$http.errorCheck(err,res)) return false\r\n\t\t\tmessage(\"收藏成功\");\r\n\t\t},\r\n\t\tasync deletePost(id,index){\r\n\t\t\tif(this.routeType==='dynamic') return false\r\n\t\t\tlet content = this.routeType===\"dynamicCollect\"?\"移出收藏\":\"确定删除该动态吗？\"\r\n\t\t\tlet [err,res] = await showModel(content);\r\n\t\t\tif(res.confirm){\r\n\t\t\t\t// 移除\r\n\t\t\t\tthis.postList.splice(index,1)\r\n\t\t\t\tswitch(this.routeType){\r\n\t\t\t\t\tcase \"dynamicCollect\":\r\n\t\t\t\t\t\tawait postServers.removePost(id);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"mySpace\":\r\n\t\t\t\t\t\tawait postServers.deletePost(id);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import '/static/css/base.css';\r\n.dynamic {\r\n\twidth: calc(100vw - 30px);\r\n\tmargin: 10px 0 0 15px;\r\n\tborder: border;\r\n\tpadding: 10px;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 15px;\r\n\tbackground-color: #ffffff;\r\n}\r\n.header {\r\n\twidth: 100%;\r\n\theight: 60px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\t.img {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 40px;\r\n\t\theight: 40px;\r\n\t\tmargin-right: 10px;\r\n\t\tborder-radius: 40px;\r\n\t}\r\n\t.name {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #666666;\r\n\t}\r\n}\r\n.content {\r\n\twidth: 100%;\r\n\t.richText {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t\tline-height: 30px;\r\n\t\tmax-height: 400rpx;\r\n\t\toverflow-y: scroll;\r\n\t\tfont-size: 16px;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\t.grid {\r\n\t\twidth: 100%;\r\n\t\tmargin: 10px 0 20px 0;\r\n\t\tdisplay: block;\r\n\t}\r\n}\r\n.bottom {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\theight: 30px;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tcolor: #999999;\r\n\t.svg {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tvertical-align: middle;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t.comment {\r\n\t\tmargin-right: 15px;\r\n\t}\r\n\t.time {\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t}\r\n}\r\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dynamicBox.vue?vue&type=style&index=0&id=3cc055ce&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./dynamicBox.vue?vue&type=style&index=0&id=3cc055ce&lang=less&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1647749014015\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}